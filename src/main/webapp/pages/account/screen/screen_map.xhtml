<ui:composition template="/pages/template/layout.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html">

    <ui:define name="title">Open Screen</ui:define>

	<ui:define name='divMain'>
		<h:form id="formScreen">
			<p:toolbar styleClass="marginTab removePadding">
        		<f:facet name="left">
        			<p:breadCrumb styleClass="navBar removeBorder">
		    			<p:menuitem value="Home" url="/pages/account/main.xhtml" />
		    			<p:menuitem value="Screen List" url="/pages/account/screen/list_screen.xhtml" />
		    			<p:menuitem value="Map" url="#"/>
		    		</p:breadCrumb>
        		</f:facet>
        		<f:facet name="right">
        			<p:outputPanel style="margin-top:5px;margin-right:5px">
        				<ui:repeat value="#{screenMapBean.colorLegends}" var="colorLegend">
		                    <svg width="30" height="21" >
  								<rect width="30" height="20" style="fill:##{colorLegend.key};stroke-width:1;stroke:rgb(0,0,0)">
  									<title>#{colorLegend.value}</title>
  								</rect>
							</svg>
		                </ui:repeat>
        			</p:outputPanel>
        		</f:facet>
        	</p:toolbar>
    		
			<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" showSummary="false" />
			<p:mindmap value="#{screenMapBean.screenRoot}" style="width: 100%;height: 600px;border: 1px solid black;">
		        <p:ajax event="select" listener="#{screenMapBean.onNodeSelect}" />
		    </p:mindmap>
		</h:form>
	</ui:define> 
</ui:composition>